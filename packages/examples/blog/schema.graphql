
type Post implements Node
@collection(
	indexes: [
		{ handle: "Post_slug", type: "unique", fields: [{ field: "slug", direction: "asc" }] }
	]
)
{
	id: ID!
	title: String! @localized
	slug: String! @localized
	categories: [PostCategory!]!
	postDate: DateTime!
	expireDate: DateTime
	author: User!
	contributors: [User!]!
	content: String! @localized
}

type PostCategory implements Node
@collection(type: "structure")
{
	id: ID!
	title: String! @localized
	slug: String! @localized
}

type PostCursor {
	cursor: String
	item: Post!
}


extend type Query {
	latestPost(first: Int, after: Cursor): [PostCursor!]!
}

extend type Mutation {
	createPost(data: PostInput): Boolean
}

extend type Subscription {
	postAdded: Post
}